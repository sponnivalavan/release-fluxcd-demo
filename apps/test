apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  annotations:
    source-file: test
  name: helmapp1
  namespace: flux-system
spec:
  chart:
    spec:
      chart: postgresql
      sourceRef:
        kind: HelmRepository
        name: helmsource
        namespace: flux-system
      valuesFiles:
      - 'values:     auth:       database: testapp       username: testuser     primary:       persistence:         enabled:
        true         size: 100Gi         storageClass: fast-ssd       resources:         limits:           memory:
        4Gi           cpu: 4         requests:           memory: 2Gi           cpu:
        2     metrics:       enabled: true       serviceMonitor:         enabled:
        true     backup:       enabled: true       cronjob:         schedule: "0 2
        * * *"'
      version: 12.x
  interval: 1m0s
  targetNamespace: flux-system
  timeout: 30s
  values: {}
